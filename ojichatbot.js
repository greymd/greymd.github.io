(()=>{var n="";const i=document.getElementById("talk"),t=document.getElementById("msgbox"),o=document.getElementById("msg_button"),e=document.getElementById("ojiClose"),c=document.getElementById("btOjichat"),l=document.getElementById("ojiWindow");function a(){var e={targetName:n,emojiNum:4,punctuationLevel:0};let t;t=(global.unkochat?unkochat:ojichat)(e),function(e){let t=document.createElement("div"),n=document.createElement("span");t.setAttribute("class","oji_msg"),n.innerHTML=e,t.appendChild(n),i.appendChild(t);e=t.getBoundingClientRect();i.scrollTo(0,e.bottom)}(t.result)}function u(e){let t=document.createElement("div"),n=document.createElement("span");t.setAttribute("class","your_msg"),n.innerHTML=e,t.appendChild(n),i.appendChild(t);e=t.getBoundingClientRect();i.scrollTo(0,e.bottom)}function d(){event.preventDefault(),""!==t.value&&u(t.value),t.value="",setTimeout(a,500)}o.addEventListener("click",function e(){event.preventDefault(),""!==t.value&&u(t.value),n=t.value,t.value="",setTimeout(a,500),o.removeEventListener("click",e),o.addEventListener("click",d)}),e.addEventListener("click",function(){l.setAttribute("class","ojiClosed"),c.setAttribute("class","btOjichat ojiShown")}),c.addEventListener("click",function(){global.ojichat||function(){const t=new Go;fetch("./main.wasm").then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,t.importObject)).then(e=>t.run(e.instance)),i.removeChild(document.getElementById("loading"))}(),l.setAttribute("class","ojiOpened"),c.setAttribute("class","btOjichat ojiHidden")})})();